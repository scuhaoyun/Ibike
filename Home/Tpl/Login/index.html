<include file="Index:home_header"/>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>登录/注册</title>
<script type="text/javascript" src="__JS__/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="__JS__/ajax.js"></script>
</head>
<style type="text/css">
* {
	margin:0px;
	padding:0px;
}
#middle_main {
	/*background-color:#F7F6F8;*/
	width:1366px;
	height:auto;
}
a {
	text-decoration:none;
}
#home_middle {
	width:990px;
	height: auto;
	margin:0 auto;
	text-align:left;
}
#login_tab, #register_tab {
	width:100px;
	height:22px;
	margin-top:2px;
	margin-left:10px;
	display:inline;
	float:left;
	text-align:center;
	vertical-align:middle;
	cursor:pointer;
	padding-top:3px;
}
.current_tab {
	background-color:#fff;
	border:2px solid #7B972F;
	border-bottom:none;
}
#table212{ vertical-align:middle; color:#000000;}
.user_start{ color:#CCCCCC;}
#table212 tr{ height:50px;}
#table212 input{width:200px; height:26px; vertical-align:middle; line-height:26px; background-color:#FFFFE0;border:1px solid #CCCCCC;}
.top_hui_text{ text-align:right;}
.login_txt{ font-size:14px;}
</style>
<script  type="text/javascript">
$(function(){
  $("#login_tab").click(function(){
  $("#register_tab").removeClass("current_tab");$("#login_tab").attr("class","current_tab");
  $("#register_content").hide();$("#login_content").show();
  });
  $("#register_tab").click(function(){
  $("#login_tab").removeClass("current_tab");$("#register_tab").attr("class","current_tab");
  $("#login_content").hide();$("#register_content").show();
  });
  $("#reg_username").focus(function(){
  		$(this).removeClass("user_start");
		$(this).attr("value","");
  });
  
  })
</script>
<body>
<div id="middle_main">
<div id="home_middle">
  <div id="login_header"><img src="__IMAGE__/home_top_logo.jpg" /></div>
  <div id="login_reg" style="width:100%; height:400px;border:1px #CCCCCC solid; ">
    <div id="div_top_tab" style="background:url(__IMAGE__/div_tab_bg.png) repeat-x; width:100%; height:29px;">
      <div  id="login_tab" class="current_tab">
        <h4>用户登录</h4>
      </div>
      <div id="register_tab">
        <h4>免费注册</h4>
      </div>
       <div id="no_tab" style="width:700px; height:29px;">
      </div>
       <form name="Loginform" id="Loginform" action="__APP__/Login/login_submit" method="post">
      <div id="login_content" style="width:100%; height:auto; position:relative;">
        <div id="login_content_left" style="width:500px; height:320px; display:inline; float:left; border-right:1px #CCCCCC solid; margin-top:20px; margin-left:100px;">
         <span style="margin-top:20px; display:block;"> 用户名：
          <input class="text-input small-input" type="text" name="username" id="login_username" style="width:200px; height:26px; vertical-align:middle; line-height:26px; background-color:#FFFFE0; border:1px solid #CCCCCC;" /></span> 
          <span style="margin-top:25px; margin-left:23px; display:block;">
          密码：<input type="password" name="password" id="login_password" style="width:200px; height:26px; vertical-align:middle; line-height:26px; background-color:#FFFFE0;border:1px solid #CCCCCC;" /><a href="#" style=" font-size:12px;">找回密码</a></span> 
          <span style="margin-top:25px; display:block; margin-left:60px;">
          <input type="checkbox" />记住账号名
          <input type="checkbox" />自动登录
          </span> 
          <span style="margin-top:25px; display:block; margin-left:60px;"><a href="#dfdf"><img  onclick="logsub()" src="__IMAGE__/now_login.png" /></a></span>
          <div id="fenxiang" style="width:300px; height:auto; overflow:hidden; margin-top:20px;">
            分享至：<div id="jiathis_style_32x32"> <a class="jiathis_button_qzone"></a> <a class="jiathis_button_tsina"></a> <a class="jiathis_button_tqq"></a> <a class="jiathis_button_renren"></a> <a class="jiathis_button_kaixin001"></a> <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a> <a class="jiathis_counter_style"></a> </div>
            <script type="text/javascript" src="http://v2.jiathis.com/code/jia.js" charset="utf-8"></script>
          </div>
        </div>
         </form>
      <div id="login_content_right" style="width:350px; height:320px;position:absolute; top:15px; right:0px;"> 
      <span style="margin-top:20px; display:block;"><h3>不是本站用户?</h3></span>
      <span style="margin-top:20px; display:block;">现在免费注册为本站用户，随时关注我们的最新活动，随时获取免费信息，做一个时尚绿色达人吧！</span>
      <p style="margin-top:50px; margin-left:80px;"><a href="#dfdf"><img  onclick="reg_now()" src="__IMAGE__/reg_user.png" /></a></p>
        </div>
    </div>
     <div id="register_content" style="width:100%; height:auto; position:relative; display:none;">
        <div id="register_content_left" style="width:60%; height:320px; display:inline; float:left; margin-top:30px; margin-left:80px; border-right:1px solid #CCCCCC;">
          
          <form name="myform" id="myform" action="__APP__/Login/reg_submit" method="post">
          <table cellSpacing="0" cellPadding="0" width="100%" border="0" id="table212">
            <tr>
              <td width="20%" height="38" class="top_hui_text"><span >用户名：</span></td>
              <td height="38" colspan="2" ><input name="reg_username" id="reg_username" class="user_start" value="邮箱/手机号码/QQ号" size="20" onBlur="show(this.value)" onFocus="fu()">
                <span id="span_username" class="login_txt"><font color="#FF0000">*</font></span></td>
            </tr>
            <tr>
              <td width="13%" height="35" class="top_hui_text"><span> 密码： </span></td>
              <td height="35" colspan="2" ><input class="editbox4" type="password" size="21" name="reg_password" id="reg_password" onBlur="vpass(this.value)" onFocus="fp()">
                <span id="span_pass" class="login_txt"><font color="#FF0000">*</font></span></td>
            </tr>
            <tr>
              <td width="13%" height="38" class="top_hui_text" ><span class="login_txt">重复密码：</span></td>
              <td  height="38" colspan="2" ><input name="re_password" type="password"class="editbox4" value="" size="21" onBlur="vrepass(this.value)" onFocus="fr()">
                <span id="span_repass"><font color="#FF0000">*</font></span></td>
            </tr>
            <tr>
              <td width="13%" height="35"  class="top_hui_text"><span>验证码：</span></td>
              <td height="35" colspan="2">
              <input name="verify" class="editbox4" value="" size="8" onBlur="verti(this.value)" onFocus="fv()"> <img style="vertical-align:middle" src="__APP__/Public/verify"  onclick="verifycode(this)"/> <span id="span_verify" class="login_txt"><font color="#FF0000">*</font></span></td>
            </tr>
            
            <tr style=" vertical-align:middle;">
              <td height="35" >&nbsp;</td>
              <td width="20%" height="35" ><a href="#register" onClick="listen()"><img src="__IMAGE__/reg_now.png" /></a></td>
              <td width="67%" ><a href="#rest" onClick="rspan()"><img src="__IMAGE__/reset.png" /></a></td>
            </tr>
          </table>
          <br>
        </form>
          </div>

    </div>
  </div>
</div>
</div>
<script> 
function logsub(){
	$("#Loginform").submit();
			
}
function reg_now(){
    $("#register_tab").click();
}

function show(username){
    var ajax=Ajax();
	var userobj=document.getElementById("span_username");
	if(username.match(/^\S{6,32}$/)){ajax.post("__APP__/Ajax/username", {username:username}, function(data){userobj.innerHTML=data;;});}
	else if(username==""){userobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>用户名不能为空！</font>"}
	else if(username.match(/\s+/)){userobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>请不要输入空白字符！</font>"}
	else {userobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>格式错误！</font>"}		
		
	}
function vemail(email){
    var emailobj=document.getElementById("span_email");
    
	if(email.match(/^[a-z0-9]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i)){emailobj.innerHTML="<img src='__ROOT__/Public/Image/right.png'>";}
	else if(email==""){emailobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>email不能为空！</font>"}
	else if(email.match(/\s+/)){emailobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>请不要输入空白字符！</font>"}
	else {emailobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>格式错误！</font>"}
}
function vpass(pass){
    var passobj=document.getElementById("span_pass");
    
	if(pass.match(/^\S{6,16}$/)){passobj.innerHTML="<img src='__ROOT__/Public/Image/right.png'>";}
	else if(pass==""){passobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>密码不能为空！</font>"}
	else if(pass.match(/\s+/)){passobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>请不要输入空白字符！</font>"}
	else {passobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>格式错误！</font>"}
}
function vrepass(pass){
    var repassobj=document.getElementById("span_repass");
    var  passobj=document.getElementById("reg_password").value;
	
   if(pass==""){repassobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>密码不能为空！</font>"}
   else if(passobj!=pass)
	{
	repassobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>两次密码不一致！</font>";}
	else {repassobj.innerHTML="<img src='__ROOT__/Public/Image/right.png'>";}
}
function verti(verify){
    var ajax=Ajax();
	var verifyobj=document.getElementById("span_verify");
	if(verify.match(/^\S{5}$/)){ajax.post("__APP__/Ajax/checkv", {verify:verify}, function(data){verifyobj.innerHTML=data;});}
	
	else if(verify.match(/\s+/)){verifyobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>请不要输入空白字符！</font>"}
	else {verifyobj.innerHTML="<img src='__ROOT__/Public/Image/error.gif'>&nbsp;<font color='red'>格式错误！</font>"}		
		
	
}
function verifycode(obj){
obj.src="__APP__/Public/verify/random/"+Math.random();}

function fu(){var userobj=document.getElementById("span_username"); userobj.innerHTML='<img src="__ROOT__/Public/Image/!.gif" width="16" height="16">请输入用户名：6-32位！';}
function fp(){var passobj=document.getElementById("span_pass");passobj.innerHTML='<img src="__ROOT__/Public/Image/!.gif" width="16" height="16">请输入密码：6-16位！';}
function fr(){var repassobj=document.getElementById("span_repass");repassobj.innerHTML='<img src="__ROOT__/Public/Image/!.gif" width="16" height="16">请再一次重复输入密码！';}
function fv(){var verifyobj=document.getElementById("span_verify");verifyobj.innerHTML='<img src="__ROOT__/Public/Image/!.gif" width="16" height="16">点击图片更换验证码！';}


function listen(){
     if(document.getElementById("span_username").innerHTML.match(/green/) && document.getElementById("span_pass").innerHTML.match(/right/) && document.getElementById("span_repass").innerHTML.match(/right/) && document.getElementById("span_verify").innerHTML.match(/green/)){
document.getElementById("myform").submit();}}
function rspan(){
document.getElementById("span_username").innerHTML="<font color='#FF0000'>*</font>";document.getElementById("span_pass").innerHTML="<font color='#FF0000'>*</font>";document.getElementById("span_repass").innerHTML="<font color='#FF0000'>*</font>";document.getElementById("span_verify").innerHTML="<font color='#FF0000'>*</font>";
document.getElementById("myform").reset();}
</script>
<include file="Index:home_footer"/>
</body>
</html>
